<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Laundry Service</title>

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<body>

    <!-- Header -->
    <header>
        <nav class="navbar">
            <h1 class="logo">Laundry Service</h1>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/services">Services</a></li>
                <li><a href="/calculator">Calculator</a></li>
                <li><a href="/register">Register</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <h2>Professional Laundry Services</h2>
        <p>Fast, affordable, and reliable cleaning for your garments.</p>
        <a href="/register" class="btn-primary">Book Now</a>
    </section>

    <!-- Services Section -->
    <section class="services">
        <h2>Our Services</h2>

        <div class="service-container">

            <% if (services && services.length > 0) { %>

                <% services.forEach(service => { %>
                    <div class="service-card">
                        <h3><%= service.name %></h3>
                        <p><%= service.description %></p>
                        <p class="price">NPR <%= service.price %> / kg</p>
                    </div>
                <% }) %>

            <% } else { %>

                <!-- Fallback if JSON fails -->
                <div class="service-card">
                    <h3>Regular Wash</h3>
                    <p>Standard washing and drying</p>
                    <p class="price">NPR 500 / kg</p>
                </div>

                <div class="service-card">
                    <h3>Dry Cleaning</h3>
                    <p>Premium formal/delicate cleaning</p>
                    <p class="price">NPR 1500 / kg</p>
                </div>

                <div class="service-card">
                    <h3>Express Service</h3>
                    <p>Same-day quick service</p>
                    <p class="price">NPR 800 / kg</p>
                </div>

                <div class="service-card">
                    <h3>Delicate Care</h3>
                    <p>Premium fabric expert handling</p>
                    <p class="price">NPR 1200 / kg</p>
                </div>

            <% } %>

        </div>
    </section>

    <!-- Calculator Section -->
    <section class="calculator">
        <h2>Price Calculator</h2>

        <div class="calc-box">

            <label for="serviceType">Choose Service:</label>
            <select id="serviceType">
                <% if (services && services.length > 0) { %>
                    <% services.forEach(service => { %>
                        <option value="<%= service.price %>">
                            <%= service.name %> (NPR <%= service.price %>/kg)
                        </option>
                    <% }) %>
                <% } else { %>
                    <option value="500">Regular Wash (NPR 500/kg)</option>
                    <option value="1500">Dry Cleaning (NPR 1500/kg)</option>
                    <option value="800">Express Service (NPR 800/kg)</option>
                    <option value="1200">Delicate Care (NPR 1200/kg)</option>
                <% } %>
            </select>

            <label for="weight">Weight (kg):</label>
            <input type="number" id="weight" min="1" placeholder="Enter weight">

            <button id="calcBtn">Calculate</button>

            <h3 id="totalPrice">Total: NPR 0</h3>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>Â© Laundry Service 2025</p>
    </footer>

    <!-- Calculator Script -->
    <script>
        const calcBtn = document.getElementById('calcBtn');
        calcBtn.addEventListener('click', () => {
            const price = parseInt(document.getElementById('serviceType').value);
            const weight = parseFloat(document.getElementById('weight').value);

            if (!weight || weight <= 0) {
                alert("Please enter a valid weight in kg.");
                return;
            }

            const total = price * weight;
            document.getElementById('totalPrice').textContent = "Total: NPR " + total;
        });
    </script>

</body>
</html>
