<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home â€“ Courier</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>

    <%- include("partials/header") %>

    <div class="container">

        <!-- PAGE TITLE -->
        <h1 class="main-title">Courier & Delivery Services</h1>

        <!-- SERVICES SECTION -->
        <section class="services">

            <% 
                const svcList = (typeof services !== 'undefined' && services && services.length) 
                    ? services 
                    : [
                        { name: "Standard Delivery", pricePerKg: 150 },
                        { name: "Express Delivery", pricePerKg: 250 },
                        { name: "Same Day", pricePerKg: 350 }
                    ];
            %>

            <h2>Available Services</h2>

            <div class="services-grid">
                <% svcList.forEach(svc => { %>
                    <div class="service-card">
                        <h3><%= svc.name %></h3>

                        <% if (svc.description) { %>
                            <p><%= svc.description %></p>
                        <% } %>

                        <p class="price">
                            Rs <%= svc.pricePerKg %> / KG
                        </p>
                    </div>
                <% }) %>
            </div>
        </section>

        <!-- PRICE CALCULATOR -->
        <section class="calculator">
            <h2>Price Calculator</h2>

            <div class="calc-box">
                <label>Choose Service:</label>
                <select id="serviceSelect">
                    <% svcList.forEach(svc => { %>
                        <option value="<%= svc.pricePerKg %>"><%= svc.name %></option>
                    <% }) %>
                </select>

                <label>Weight (KG):</label>
                <input type="number" id="weightInput" min="1" step="0.1">

                <button onclick="calculatePrice()">Calculate</button>

                <h3 id="calculatedPrice"></h3>
            </div>
        </section>

    </div>

    <script>
        function calculatePrice() {
            const price = Number(document.getElementById("serviceSelect").value);
            const weight = Number(document.getElementById("weightInput").value);

            if (!weight || weight <= 0) {
                document.getElementById("calculatedPrice").innerHTML = "Enter a valid weight.";
                return;
            }

            const total = price * weight;

            document.getElementById("calculatedPrice").innerHTML = 
                "Total Price: Rs " + total.toFixed(2);
        }
    </script>

    <%- include("partials/footer") %>

</body>
</html>
