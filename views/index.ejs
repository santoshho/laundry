<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Laundry Management System</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root{
      --primary:#0d6efd;
      --muted:#6c757d;
      --card-shadow: 0 8px 24px rgba(13,110,253,0.05);
      --radius: 14px;
    }

    body{font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#fff; color:#222;}

    .navbar{background:var(--primary);}
    .navbar .navbar-brand{font-weight:700;color:#fff;}
    .navbar .nav-link{color: rgba(255,255,255,0.9);}
    .navbar .nav-link:hover{color:#fff;text-decoration:underline;}

    .hero{padding:80px 0 60px;}
    .hero h1{font-size:48px; line-height:1.03; color:var(--primary); font-weight:800;}
    .hero p.lead{color:#6b6f76; max-width:720px; margin-top:18px; font-size:18px;}
    .hero .btn-primary{min-width:160px;}

    .drop-center {
      position: relative;
      display:flex;
      align-items:center;
      justify-content:center;
      margin-top:18px;
      margin-bottom:28px;
    }
    .drop-icon {
      width:86px; height:86px; border-radius:50%;
      background: linear-gradient(180deg,#eaf3ff, #d9eeff);
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 10px 30px rgba(13,110,253,0.08);
      transform: translateY(-18px);
      border: 4px solid rgba(255,255,255,0.9);
    }
    .drop-icon i{font-size:42px; color:var(--primary);}

    .features-grid {margin-top: -6px;}
    .feature-card {
      background: #fff; border-radius:12px; padding:26px;
      box-shadow: var(--card-shadow); text-align:center; min-height:120px;
    }
    .feature-card i{font-size:28px; color:var(--primary); display:block; margin-bottom:8px;}

    .service-card { background:#fff; border-radius:14px; padding:18px; box-shadow:var(--card-shadow); display:flex; gap:18px; align-items:flex-start;}
    .service-icon { width:66px; height:66px; border-radius:12px; display:flex; align-items:center; justify-content:center; background:rgba(13,110,253,0.06); color:var(--primary); font-size:26px;}
    .service-price { color:#0b7a3b; font-weight:700; }

    .calc-card{ border-radius:12px; padding:20px; box-shadow:var(--card-shadow); }

    .testimonial-box{ background:#fff; border-radius:12px; padding:18px; box-shadow:var(--card-shadow); min-height:170px;}
    .avatar{ width:56px; height:56px; border-radius:50%; object-fit:cover; }
    .star{ color:#f6c84c; margin-right:4px; }

    .reach { background: linear-gradient(180deg,#f8fbff, #ffffff); padding:42px 0; text-align:center; border-radius:12px; }
    .map-embed { width:100%; height:260px; border-radius:12px; overflow:hidden; box-shadow: var(--card-shadow); border:0; }

    .whatsapp-float{ position:fixed; right:18px; bottom:18px; width:62px; height:62px; border-radius:50%; background:#25D366; display:flex; align-items:center; justify-content:center; z-index:9999; box-shadow:0 8px 26px rgba(0,0,0,0.18); color:#fff; font-size:26px; text-decoration:none; }

    .notify-wrap{ position:fixed; left:18px; bottom:18px; z-index:9998; display:flex; flex-direction:column; gap:12px; align-items:flex-start; }
    .notify-card{ background:#fff; border-radius:10px; padding:12px 14px; box-shadow:0 12px 36px rgba(0,0,0,0.12); min-width:220px; max-width:320px; opacity:0; transform:translateY(10px); transition:all .4s ease; }
    .notify-card.show{ opacity:1; transform:translateY(0); }
    .notify-card small{ color:var(--muted); display:block; margin-top:6px; font-size:12px; }

    footer{ background:#111; color:#fff; padding:18px 0; text-align:center; margin-top:28px;}

    @media (max-width: 991px){
      .hero h1{ font-size:36px; }
      .drop-icon{ width:72px; height:72px; }
      .feature-card{ padding:20px; }
    }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand" href="/"><i class="bi bi-droplet-half me-2"></i>Laundry System</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto align-items-center">
          <li class="nav-item"><a class="nav-link" href="#features">Features</a></li>
          <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
          <li class="nav-item"><a class="nav-link" href="#calculator">Calculator</a></li>
          <li class="nav-item"><a class="nav-link" href="#testimonials">Testimonials</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
          <li class="nav-item"><a class="nav-link" href="/login"><i class="bi bi-box-arrow-in-right me-1"></i>Login</a></li>
          <li class="nav-item"><a class="nav-link" href="/register"><i class="bi bi-person-plus me-1"></i>Register</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <section class="hero">
    <div class="container">
      <div class="row align-items-center">

        <div class="col-lg-6">
          <h1>Professional Laundry Services Made Easy</h1>
          <p class="lead">Experience hassle-free laundry management with our modern system. Schedule pickups, track your orders, and enjoy fresh, clean clothes delivered right to your doorstep.</p>

          <div class="d-flex align-items-center gap-3 mt-4">
            <a href="/register" class="btn btn-primary btn-lg"><i class="bi bi-person-plus me-2"></i>Get Started</a>
            <a href="/login" class="btn btn-outline-primary btn-lg"><i class="bi bi-box-arrow-in-right me-2"></i>Sign In</a>
          </div>
        </div>

        <div class="col-lg-6 text-center">
          <div class="drop-center">
            <div class="drop-icon"><i class="bi bi-droplet-half"></i></div>
          </div>

          <div class="row features-grid gx-3 gy-3 justify-content-center">
            <div class="col-6"><div class="feature-card"><i class="bi bi-clock"></i><strong>Quick Service</strong><div class="text-muted">Fast turnaround</div></div></div>
            <div class="col-6"><div class="feature-card"><i class="bi bi-truck"></i><strong>Free Pickup</strong><div class="text-muted">From your doorstep</div></div></div>
            <div class="col-6"><div class="feature-card"><i class="bi bi-shield-check"></i><strong>Quality Care</strong><div class="text-muted">Gentle handling</div></div></div>
            <div class="col-6"><div class="feature-card"><i class="bi bi-headset"></i><strong>24/7 Support</strong><div class="text-muted">We're here to help</div></div></div>
          </div>

        </div>

      </div>
    </div>
  </section>

  <section id="services" class="py-5">
    <div class="container">

      <div class="row mb-4"><div class="col text-center"><h2 class="fw-bold">Our Services</h2><p class="text-muted">Laundry solutions for all your needs</p></div></div>

      <div class="row g-4">

        <% if (typeof services !== 'undefined' && services.length>0) { %>
          <% services.forEach(s => { 
               const raw = Number(s.price)||0;
               const price = Math.round(raw);
          %>
            <div class="col-lg-6">
              <div class="service-card">
                <div class="service-icon"><i class="bi bi-droplet"></i></div>
                <div>
                  <h5><%= s.name %></h5>
                  <p class="text-muted mb-1"><%= s.description %></p>
                  <div class="service-price">NPR <%= price.toLocaleString() %>/kg</div>
                </div>
              </div>
            </div>
          <% }) %>
        <% } else { %>

          <div class="col-lg-6">
            <div class="service-card">
              <div class="service-icon"><i class="bi bi-droplet"></i></div>
              <div>
                <h5>Regular Wash & Dry</h5><p class="text-muted">Standard washing</p><div class="service-price">NPR 500/kg</div>
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="service-card">
              <div class="service-icon"><i class="bi bi-wind"></i></div>
              <div>
                <h5>Dry Cleaning</h5><p class="text-muted">Delicate fabrics</p><div class="service-price">NPR 1,500/kg</div>
              </div>
            </div>
          </div>

        <% } %>

      </div>

    </div>
  </section>

  <section id="calculator" class="py-5 bg-light">
    <div class="container">
      <div class="row justify-content-center"><div class="col-md-8">

        <div class="calc-card">
          <div class="row g-3 align-items-end">
            <div class="col-md-6">
              <label class="form-label">Select Service</label>
              <select id="calcService" class="form-select">
                <% if (services && services.length>0) { %>
                  <% services.forEach(s=>{ 
                      const price=Math.round(Number(s.price)||0);
                  %>
                    <option value="<%= price %>"><%= s.name %> — NPR <%= price.toLocaleString() %>/kg</option>
                  <% }) %>
                <% } else { %>
                  <option value="500">Regular Wash — NPR 500/kg</option>
                  <option value="1500">Dry Cleaning — NPR 1,500/kg</option>
                <% } %>
              </select>
            </div>

            <div class="col-md-3">
              <label class="form-label">Weight (kg)</label>
              <input id="calcWeight" type="number" min="1" class="form-control">
            </div>

            <div class="col-md-3 d-grid"><button id="calcBtn" class="btn btn-primary">Calculate</button></div>
          </div>

          <div id="calcResult" class="alert alert-info text-center d-none mt-3"></div>
        </div>

      </div></div>
    </div>
  </section>

  <section id="testimonials" class="py-5">
    <div class="container">
      <div class="row mb-3"><div class="col text-center"><h2 class="fw-bold">What Our Customers Say</h2></div></div>

      <div class="row g-4">

        <% if (testimonials && testimonials.length>0) { %>

          <% testimonials.forEach(t=>{ 
                const rating = Number(t.rating||5);
          %>
            <div class="col-md-4">
              <div class="testimonial-box">
                <div class="d-flex align-items-center mb-3">
                  <img src="<%= t.image || 'https://i.pravatar.cc/150' %>" class="avatar me-3">
                  <div><strong><%= t.name %></strong><br><small class="text-muted"><%= t.location %></small></div>
                </div>

                <p class="text-muted"><%= t.message %></p>

                <div>
                  <% for(let i=1;i<=5;i++){ %>
                    <i class="bi bi-star<%= i<=rating ? '-fill':'' %> star"></i>
                  <% } %>
                </div>

              </div>
            </div>
          <% }) %>

        <% } else { %>

          <div class="col-md-4">
            <div class="testimonial-box">
              <div class="d-flex align-items-center mb-3">
                <img src="https://i.pravatar.cc/150?img=11" class="avatar me-3">
                <div><strong>Rita Sharma</strong><br><small class="text-muted">Pokhara</small></div>
              </div>
              <p class="text-muted">“Super fast pickup and very clean clothes.”</p>
              <i class="bi bi-star-fill star"></i><i class="bi bi-star-fill star"></i><i class="bi bi-star-fill star"></i><i class="bi bi-star-fill star"></i><i class="bi bi-star-fill star"></i>
            </div>
          </div>

        <% } %>

      </div>
    </div>
  </section>

  <section id="contact" class="py-5">
    <div class="container">
      <div class="reach">

        <h3 class="fw-bold">Reach Us</h3>
        <p class="text-muted">Gaindakot-11, Nawalpur • +977 9825482289 • santoshballu321@gmail.com</p>

        <div class="map-embed mx-auto" style="max-width:900px;">
          <iframe src="https://www.google.com/maps?q=Gaindakot-11%2C%20Nawalpur&output=embed" width="100%" height="100%" style="border:0;"></iframe>
        </div>

      </div>
    </div>
  </section>

  <footer>© <%= new Date().getFullYear() %> Laundry Management System — Version 2.0</footer>

  <a class="whatsapp-float" href="https://wa.me/9779825482289" target="_blank"><i class="bi bi-whatsapp"></i></a>

  <div class="notify-wrap" id="notifyWrap"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.getElementById('calcBtn').addEventListener('click',()=>{
      const p=Number(calcService.value||0);
      const kg=Number(calcWeight.value||0);
      if(kg<=0)return alert("Enter valid weight");
      const t=Math.round(p*kg);
      calcResult.classList.remove("d-none");
      calcResult.textContent="Total: NPR "+t.toLocaleString();
    });

    (function(){
      const msgs=[
        "New user Rampukar registered.","New order received — 3 kg.","New user Meera joined.","Pickup scheduled.","Order updated to In Progress.",
        "Express service order received.","User Kiran registered.","Pickup requested in Gaindakot.","Order assigned.","New user Sunita joined.",
        "5 kg Regular Wash order.","Ram Prasad registered.","Feedback submitted.","Discount applied.","Dry Clean order received.",
        "Rekha created account.","Pickup queued.","New request submitted.","Manish registered.","Order pending update.",
        "Website order placed.","Pickup booked.","Email user registered.","Delicate Care order.","Hari created account.",
        "Order ready for delivery.","Anju registered.","Express order received.","Review submitted.","Request from Butwal.",
        "Order accepted.","Dipak registered.","Pickup today.","Payment completed.","Sita joined.",
        "Pickup tomorrow.","Ramesh registered.","Premium order created.","Pooja joined.","Order waiting confirmation.",
        "Gita registered.","Home pickup request.","Ashok joined.","Laundry bundle order.","Nisha registered.",
        "Express pickup order.","Bipin registered.","Checklist completed.","Ramkumar registered."
      ];

      function r(a,b){return Math.floor(Math.random()*(b-a+1))+a;}

      function notify(txt){
        const wrap=document.getElementById("notifyWrap");
        const d=document.createElement("div");
        d.className="notify-card";
        d.innerHTML=`<strong>${txt.replace("<random>",r(1000,9999))}</strong><small>${new Date().toLocaleTimeString()}</small>`;
        wrap.prepend(d);
        requestAnimationFrame(()=>d.classList.add("show"));
        setTimeout(()=>{d.classList.remove("show"); setTimeout(()=>d.remove(),400)},6500);
      }

      setTimeout(()=>notify(msgs[r(0,msgs.length-1)]),1000);
      setInterval(()=>notify(msgs[r(0,msgs.length-1)]),25000);

    })();
  </script>

</body>
</html>
